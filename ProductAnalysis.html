<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Ratings</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        .star-rating {
            font-size: 30px;
        }
    </style>

</head>

<body class="container-fluid">
    <h2 class="text-center">Product Rating Analyzer</h2>

    <div class="d-flex flex-wrap" id="acceptUsr">
        <form onsubmit="return false" id="acceptUsrForm">
            <div class="mb-3">
                <label class="form-label h3 text-muted">Enter Number of Users:</label>
                <input type="number" min="1" max="10" name="usr" id="usr" class="form-control" required>
            </div>
            <div class="mb-3">
                <input type="submit" value="Submit" onclick="rateProduct(this.form);"
                    class="btn btn-success form-control">
            </div>
        </form>
    </div>

    <div class="d-flex no-wrap" id="rateProduct">


    </div>

    <script>

        function rateProduct(form) {

            let product = "";
            let color = ["warning", "danger", "info", "secondary", "primary"], bg;
            usr = form.usr.value;

            if (usr < 1 || usr > 10)
                return false;

            for (let i = 1; i <= 5; i++) {
                bg = color[i - 1];
                product += `
                <div class="card me-4" style="width: 19rem;">
                    <div class="bg bg-${bg} h3 text-white text-center p-5">Product ${i}</div>
                    <div class="card-body">
                        <h5 class="card-title">User Ratings</h5>`;
                for (let j = 1; j <= usr; j++) {
                    product += `
                        <p class="card-text">
                            <div class="star-rating">
                                <span class="star" id="s1" onclick="countFill(1);">&#9733;</span>
                                <span class="star" id="s2" onclick="countFill(2);">&#9733;</span>
                                <span class="star" id="s4" onclick="countFill(4);">&#9733;</span>
                                <span class="star" id="s3" onclick="countFill(3);">&#9733;</span>
                                <span class="star" id="s5" onclick="countFill(5);">&#9733;</span>
                            </div>
                        </p>`;
                }
                product += `<a href="#" class="btn btn-primary">Submit</a>
                    </div>
                </div>`;
            }

            document.getElementById("rateProduct").innerHTML = product;

        }

        function countFill(st) {
            for (let i = parseInt(st); i > 0; i--) {
                    document.getElementById("s" + i).style.color = "red";
            }
        }



    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>